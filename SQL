drop database projektUrlop;
create database projektUrlop;

use projektUrlop;

drop table daneUrlopu;

create table daneUrlopu (
id int primary key auto_increment,
imieNazwisko varchar(100),
od varchar(100),
doU varchar(100),
iloscDni int,
statusU varchar(100)
);

CREATE TABLE IF NOT EXISTS `dane_logowania` (
  `id_uzytkownika` INT NOT NULL,
  `login` VARCHAR(45) NULL,
  `haslo` VARCHAR(45) NULL,
  PRIMARY KEY (`id_uzytkownika`));


 CREATE USER 'pracownik'@'localhost';
  SET PASSWORD FOR 'pracownik'@'localhost' = 'pracownik';

  CREATE USER 'kierownik'@'localhost';
  SET PASSWORD FOR 'kierownik'@'localhost' = 'kierownik';


grant ALL PRIVILEGES on projektUrlop.* to 'kierownik'@'localhost';
grant INSERT , SELECT , UPDATE on projektUrlop.* to 'pracownik'@'localhost';

drop trigger poDodaniu;

INSERT INTO daneUrlopu(imieNazwisko,od,doU,iloscDni,statusU)
                    VALUES("Mateusz","2020-09-21","2020-09-28",8,"nie zatwierdzone");

INSERT INTO daneUrlopu(imieNazwisko,od,doU,iloscDni,statusU)
                    VALUES("ada","2020-09-21","2020-09-28",8,"");


CREATE TABLE IF NOT EXISTS `dane_logowania` (
  `id_uzytkownika` INT NOT NULL,
  `login` VARCHAR(45) NULL,
  `haslo` VARCHAR(45) NULL,
  PRIMARY KEY (`id_uzytkownika`));

insert into dane_logowania(id_uzytkownika, login, haslo) values (
"1", "lg1", "pg1");
insert into dane_logowania(id_uzytkownika, login, haslo) values (
"2", "lg2", "pg2");
insert into dane_logowania(id_uzytkownika, login, haslo) values (
"3", "lg3", "pg3");



